# 捉妖雷达 web版-上海版本

>没有打印提示 请刷新页面 重连我已经关掉了，我拉的版本比较早，那个重连方法每次都会新建连接，无限增长。。。。
>

### 上海版本
>直接打包的不建议用  webpack我不是很熟悉 

>如果没有自己的数据库不建议使用，我是扫描出数据调用我自己后台接口，数据存储入库的，本代码写的的上海地区扫描
>上海小伙伴直接用我的就可以的 免费开源 收费的都我只能说呵呵 说不定哪天小程序就关闭了
http://60.205.179.3:3000/ 自动扫描雷达
http://60.205.179.3:3000/api/zhuoyao/index 稀有怪数据
http://60.205.179.3:3000/api/zhuoyao/select 数据接口
为什么不用域名  域名需要备案 我的域名借朋友的备案的 不敢用

### 运行
>本地运行
>npm run local
>服务器运行  需要pm2 百度怎么用
>pm2 start  npm run dev

> 本项目 不建议打包 估计打包没法用 我加了些东西。webpack我不是很熟悉 
不开源也是这个原因 使用不方便，需要自己有数据库 还要自己写后台接口 有java基础的朋友可以直接用
数据库没有分省份 所以代码我注释掉了

### 看不到数据怎么办

>会改代码的 直接改代码 弹框
>不会改代码的直接 console.info() F12查看打印

```
map.js  102行 
//console.info(this.gcj02towgs84(yl.latitude / 1e6 , yl.longtitude / 1e6))

去掉注释

```
 
### 其他地区改版

```
替换  src\components\zhuobiao 中zuobiao.js
文件，新增 xx省坐标或者小范围坐标 


const  zuobiao= {
    shanghai:[
        {'lat': 30980000,'lon': 121220000},
        {'lat': 30980000,'lon': 121240000},
        {'lat': 30980000,'lon': 121260000},
        {'lat': 30980000,'lon': 121280000},

    ],
     xxx省:[
            {'lat': 30980000,'lon': 121220000},
            {'lat': 30980000,'lon': 121240000},
            {'lat': 30980000,'lon': 121260000},
            {'lat': 30980000,'lon': 121280000},
    
        ],
    
    修改读取省份坐标代码
    全文修改
    aap.vue
    zuobiao.zuobiao.shanghai
    zuobiao.zuobiao.xxx省
    
}


```

### 其他省分坐标算法

> 取该城市 最大范围 4个点，最好是正方形取整数，误差不会很大
如 上海  1 2 3 4 正方形点  
雷达扫描范围大概  0.17*0.2 ，取0.2，计算 大概就这样
算法什么的我是不会的，函数也不会写 
简单一点就是 打正方形方面0.2*0.2的小正方形
正常经纬度 应该是 lat 31.xxxxx，lon 121.xxxxx （上海）

```

        int la1=31350000;
        int lo1=121300000;

        int la2=31350000;
        int lo2=121600000;

        int la3=31050000;
        int lo3=121600000;

        int la4=31050000;
        int lo4=121300000;


        for (int i = 0; i <=(lo2- lo1)/a; i++) {
            int lo =lo1+a*i;

            for (int j = 0; j <=(la1- la4)/a; j++){
                System.out.println((la1-a*j)+","+lo);
            }
        }

```

### 经纬度不准 

>gcj02 转 Gps84
腾讯高德用的gcj02，大部分安卓定位和硬件定位基于谷歌地球（不是谷歌地图，有的差别），不懂的直接百度 经纬度转换 一大堆

>ios的不准的 需要开偏差 有的有这个按钮 有的没有 自求多福


